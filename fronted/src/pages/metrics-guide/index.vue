<template>
	<div class="metrics-guide-page">
		<div class="guide-container">
			<h1 class="page-title">OpenInsight æŒ‡æ ‡è¯´æ˜</h1>
			<p class="page-subtitle">å…¨é¢äº†è§£ OpenInsight å¹³å°ä½¿ç”¨çš„å„é¡¹å¼€æºé¡¹ç›®è¯„ä¼°æŒ‡æ ‡</p>

			<div class="metrics-section">
				<h2 class="section-title">ğŸ“Š GitHub æŒ‡æ•° (GitHub Index)</h2>
				<div class="metric-card">
					<h3>æŒ‡æ•°æ„æˆ</h3>
					<p>GitHub æŒ‡æ•°æ˜¯ç»¼åˆè¯„ä¼°å¼€æºé¡¹ç›®æ•´ä½“è´¨é‡çš„å¤åˆæŒ‡æ ‡,ç”±å››ä¸ªç»´åº¦ç»„æˆ:</p>
					<ul class="metric-list">
						<li>
							<strong>å½±å“åŠ› (Influence):</strong>
							<code>0.25 Ã— stars + 0.25 Ã— forks + 0.3 Ã— issues + 0.2 Ã— pull_requests</code>
							<p class="metric-desc">è¡¡é‡é¡¹ç›®åœ¨å¼€æºç¤¾åŒºçš„å½±å“èŒƒå›´å’Œå—æ¬¢è¿ç¨‹åº¦</p>
						</li>
						<li>
							<strong>ååº”åŠ› (Reaction):</strong>
							<code>0.5 Ã— issue_comments + 0.5 Ã— pr_reviews</code>
							<p class="metric-desc">è¡¡é‡ç¤¾åŒºå¯¹é¡¹ç›®é—®é¢˜å’Œè´¡çŒ®çš„å“åº”æ´»è·ƒåº¦</p>
						</li>
						<li>
							<strong>å¼€å‘è€…æ´»è·ƒåº¦ (Developer Activity):</strong>
							<code>0.5 Ã— new_contributors + 0.5 Ã— openrank</code>
							<p class="metric-desc">è¯„ä¼°é¡¹ç›®å¸å¼•æ–°è´¡çŒ®è€…çš„èƒ½åŠ›å’Œå¼€å‘å›¢é˜Ÿçš„æ´»è·ƒç¨‹åº¦</p>
						</li>
						<li>
							<strong>è¶‹åŠ¿ (Trend):</strong>
							<code>sqrt(stars_growth)</code>
							<p class="metric-desc">é€šè¿‡ Star å¢é•¿ç‡è¡¡é‡é¡¹ç›®çš„å‘å±•è¶‹åŠ¿(ä½¿ç”¨å¹³æ–¹æ ¹å¹³æ»‘)</p>
						</li>
					</ul>
				</div>

				<div class="metric-card">
					<h3>è®¡ç®—æ–¹æ³•</h3>
					<ol class="numbered-list">
						<li>åŸºäº Top300 é¡¹ç›®è®¡ç®—å„ç»´åº¦çš„ min å’Œ max å€¼ä½œä¸º Baseline</li>
						<li>å¯¹æ–°é¡¹ç›®çš„åŸå§‹æŒ‡æ ‡è¿›è¡Œå½’ä¸€åŒ–: <code>(value - min) / (max - min)</code></li>
						<li>å°†å½’ä¸€åŒ–åçš„å€¼æ˜ å°„åˆ° 60-100 åˆ†åŒºé—´: <code>60 + normalized Ã— 40</code></li>
						<li>å¯¹å››ä¸ªç»´åº¦çš„åˆ†æ•°è¿›è¡ŒåŠ æƒå¹³å‡å¾—åˆ°æœ€ç»ˆ GitHub æŒ‡æ•°</li>
					</ol>
				</div>
			</div>

			<div class="metrics-section">
				<h2 class="section-title">âš¡ PREI æŒ‡æ•° (PR & Issue Efficiency Index)</h2>
				<div class="metric-card">
					<h3>æŒ‡æ•°æ„æˆ</h3>
					<p>PREI æŒ‡æ•°ä¸“æ³¨äºè¯„ä¼°é¡¹ç›®å¤„ç† Pull Request å’Œ Issue çš„æ•ˆç‡,åŒ…å«å››ä¸ªç»´åº¦:</p>
					<ul class="metric-list">
						<li>
							<strong>å“åº”é€Ÿåº¦ (Response):</strong>
							<code>issue_response_time + pr_response_time</code>
							<p class="metric-desc">è¯„ä¼°é¡¹ç›®å¯¹ Issue å’Œ PR çš„é¦–æ¬¡å“åº”é€Ÿåº¦(å¯¹æ•°å‹ç¼©åé€†å‘è¯„åˆ†)</p>
						</li>
						<li>
							<strong>è§£å†³é€Ÿåº¦ (Resolution):</strong>
							<code>issue_resolution_duration + pr_resolution_duration</code>
							<p class="metric-desc">è¯„ä¼°ä»åˆ›å»ºåˆ°å…³é—­çš„å¹³å‡æ—¶é•¿(å¯¹æ•°å‹ç¼©åé€†å‘è¯„åˆ†)</p>
						</li>
						<li>
							<strong>å®¡æŸ¥æ•ˆç‡ (Review):</strong>
							<code>pr_reviews / pull_requests</code>
							<p class="metric-desc">å¹³å‡æ¯ä¸ª PR æ”¶åˆ°çš„ Review æ•°é‡(å¯¹æ•°å‹ç¼©)</p>
						</li>
						<li>
							<strong>æ¥å—ç‡ (Accept):</strong>
							<code>merged_prs / total_prs</code>
							<p class="metric-desc">Pull Request çš„åˆå¹¶æˆåŠŸç‡</p>
						</li>
					</ul>
				</div>

				<div class="metric-card">
					<h3>è®¡ç®—æ–¹æ³•</h3>
					<ol class="numbered-list">
						<li>å¯¹æ—¶é—´ç±»æŒ‡æ ‡è¿›è¡Œå¯¹æ•°å‹ç¼©: <code>log(value + 1)</code></li>
						<li>æ—¶é—´æŒ‡æ ‡é‡‡ç”¨é€†å‘è¯„åˆ†(è¶ŠçŸ­è¶Šå¥½): <code>1 - normalized</code></li>
						<li>åŸºäº Top300 é¡¹ç›®çš„ Baseline è¿›è¡Œå½’ä¸€åŒ–</li>
						<li>æ˜ å°„åˆ° 60-100 åˆ†åŒºé—´å¹¶åŠ æƒå¹³å‡</li>
					</ol>
				</div>
			</div>

			<div class="metrics-section">
				<h2 class="section-title">ğŸ“ˆ OpenRank</h2>
				<div class="metric-card">
					<h3>æŒ‡æ ‡è¯´æ˜</h3>
					<p>
						OpenRank æ˜¯åŸºäºå¼€æºåä½œç½‘ç»œçš„å½±å“åŠ›è¯„ä¼°ç®—æ³•,ç±»ä¼¼äº Google PageRankã€‚
						å®ƒä¸ä»…è€ƒè™‘è´¡çŒ®è€…çš„æ•°é‡,æ›´é‡è§†è´¡çŒ®è€…ä¹‹é—´çš„åä½œå…³ç³»å’Œå½±å“åŠ›ä¼ é€’ã€‚
					</p>
					<ul class="metric-list">
						<li>
							<strong>ç½‘ç»œæ¨¡å‹:</strong>
							<p class="metric-desc">å°†å¼€æºé¡¹ç›®æ„å»ºä¸ºåä½œç½‘ç»œ,è´¡çŒ®è€…å’Œé¡¹ç›®éƒ½æ˜¯èŠ‚ç‚¹,è´¡çŒ®å…³ç³»æ˜¯è¾¹</p>
						</li>
						<li>
							<strong>å½±å“åŠ›ä¼ é€’:</strong>
							<p class="metric-desc">é«˜å½±å“åŠ›è´¡çŒ®è€…çš„å‚ä¸ä¼šæå‡é¡¹ç›®çš„ OpenRank å€¼</p>
						</li>
						<li>
							<strong>åŠ¨æ€è®¡ç®—:</strong>
							<p class="metric-desc">éšç€åä½œç½‘ç»œçš„å˜åŒ–,OpenRank å€¼ä¼šåŠ¨æ€æ›´æ–°</p>
						</li>
					</ul>
				</div>
			</div>

			<div class="metrics-section">
				<h2 class="section-title">ğŸ”„ æ•°æ®æ¥æºä¸æ›´æ–°</h2>
				<div class="metric-card">
					<h3>æ•°æ®æ¥æº</h3>
					<p>æ‰€æœ‰æŒ‡æ ‡æ•°æ®å‡æ¥è‡ª <a href="https://github.com/X-lab2017/open-digger" target="_blank" class="link">X-lab OpenDigger</a> é¡¹ç›®,è¯¥é¡¹ç›®æä¾›äº†ä¸°å¯Œçš„å¼€æºé¡¹ç›®å…ƒæ•°æ®å’Œåˆ†ææŒ‡æ ‡ã€‚</p>
				</div>

				<div class="metric-card">
					<h3>æ›´æ–°é¢‘ç‡</h3>
					<ul class="metric-list">
						<li><strong>Top300 é¡¹ç›®:</strong> æ¯æœˆè‡ªåŠ¨æ›´æ–°ä¸€æ¬¡</li>
						<li><strong>Baseline æ•°æ®:</strong> éš Top300 æ•°æ®æ›´æ–°è€Œé‡æ–°è®¡ç®—</li>
						<li><strong>æ–°å¯¼å…¥é¡¹ç›®:</strong> å®æ—¶è®¡ç®—æŒ‡æ ‡å¹¶ä½¿ç”¨æœ€æ–°çš„ Baseline</li>
					</ul>
				</div>
			</div>

			<div class="metrics-section">
				<h2 class="section-title">ğŸ’¡ ä½¿ç”¨å»ºè®®</h2>
				<div class="metric-card">
					<ul class="metric-list">
						<li>
							<strong>ç»¼åˆè¯„ä¼°:</strong>
							<p class="metric-desc">ä¸è¦åªçœ‹å•ä¸€æŒ‡æ ‡,åº”ç»¼åˆ GitHub æŒ‡æ•°ã€PREI æŒ‡æ•°å’Œ OpenRank è¿›è¡Œè¯„ä¼°</p>
						</li>
						<li>
							<strong>è¶‹åŠ¿è§‚å¯Ÿ:</strong>
							<p class="metric-desc">å…³æ³¨é¡¹ç›®çš„å†å²è¶‹åŠ¿,è€Œä¸ä»…æ˜¯å½“å‰çš„ç»å¯¹å€¼</p>
						</li>
						<li>
							<strong>åŒç±»å¯¹æ¯”:</strong>
							<p class="metric-desc">åœ¨ç›¸ä¼¼ç±»å‹æˆ–è§„æ¨¡çš„é¡¹ç›®é—´è¿›è¡Œå¯¹æ¯”æ›´æœ‰æ„ä¹‰</p>
						</li>
						<li>
							<strong>ç»“åˆå®é™…:</strong>
							<p class="metric-desc">æŒ‡æ ‡æ˜¯å‚è€ƒå·¥å…·,æœ€ç»ˆå†³ç­–è¿˜éœ€ç»“åˆé¡¹ç›®å®é™…æƒ…å†µå’Œä¸šåŠ¡éœ€æ±‚</p>
						</li>
					</ul>
				</div>
			</div>

			<div class="back-btn-container">
				<button class="back-btn" @click="goBack">è¿”å›</button>
			</div>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useRouter } from 'vue-router';

const router = useRouter();

const goBack = () => {
	router.back();
};
</script>

<style lang="scss" scoped>
.metrics-guide-page {
	min-height: calc(100vh - 64px);
	background: #060c20;
	padding: 40px 20px;
	overflow-y: auto;
}

.guide-container {
	max-width: 1200px;
	margin: 0 auto;
}

.page-title {
	text-align: center;
	font-size: 36px;
	font-weight: 700;
	margin-bottom: 12px;
	background: linear-gradient(135deg, #e2e8f0 0%, #94a3b8 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.page-subtitle {
	text-align: center;
	color: #94a3b8;
	font-size: 16px;
	margin-bottom: 48px;
}

.metrics-section {
	margin-bottom: 48px;
}

.section-title {
	font-size: 28px;
	font-weight: 600;
	color: #e2e8f0;
	margin-bottom: 24px;
	padding-bottom: 12px;
	border-bottom: 2px solid rgba(56, 189, 248, 0.3);
}

.metric-card {
	background: rgba(15, 23, 42, 0.6);
	backdrop-filter: blur(10px);
	border: 1px solid rgba(56, 189, 248, 0.2);
	border-radius: 12px;
	padding: 24px;
	margin-bottom: 20px;

	h3 {
		font-size: 20px;
		font-weight: 600;
		color: #38bdf8;
		margin-bottom: 16px;
	}

	p {
		color: #cbd5e1;
		line-height: 1.8;
		margin-bottom: 12px;
	}
}

.metric-list {
	list-style: none;
	padding: 0;

	li {
		margin-bottom: 20px;
		padding: 16px;
		background: rgba(30, 41, 59, 0.4);
		border-radius: 8px;
		border-left: 3px solid #38bdf8;

		strong {
			color: #38bdf8;
			font-size: 16px;
			display: block;
			margin-bottom: 8px;
		}

		code {
			display: block;
			background: rgba(0, 0, 0, 0.3);
			padding: 8px 12px;
			border-radius: 6px;
			font-family: 'Consolas', 'Monaco', monospace;
			font-size: 13px;
			color: #6ee7b7;
			margin: 8px 0;
			overflow-x: auto;
		}

		.metric-desc {
			color: #94a3b8;
			font-size: 14px;
			margin: 8px 0 0 0;
		}
	}
}

.numbered-list {
	padding-left: 20px;

	li {
		color: #cbd5e1;
		line-height: 1.8;
		margin-bottom: 12px;

		code {
			display: inline-block;
			background: rgba(0, 0, 0, 0.3);
			padding: 2px 8px;
			border-radius: 4px;
			font-family: 'Consolas', 'Monaco', monospace;
			font-size: 13px;
			color: #6ee7b7;
		}
	}
}

.link {
	color: #38bdf8;
	text-decoration: none;
	border-bottom: 1px solid transparent;
	transition: border-color 0.3s;

	&:hover {
		border-bottom-color: #38bdf8;
	}
}

.back-btn-container {
	text-align: center;
	margin-top: 48px;
	padding-bottom: 20px;
}

.back-btn {
	padding: 12px 32px;
	background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%);
	border: 1px solid rgba(56, 189, 248, 0.3);
	border-radius: 8px;
	color: white;
	font-size: 16px;
	font-weight: 600;
	cursor: pointer;
	transition: all 0.3s;

	&:hover {
		background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
		transform: translateY(-2px);
		box-shadow: 0 4px 16px rgba(56, 189, 248, 0.6);
	}
}

@media (max-width: 768px) {
	.page-title {
		font-size: 28px;
	}

	.page-subtitle {
		font-size: 14px;
	}

	.section-title {
		font-size: 22px;
	}

	.metric-card {
		padding: 16px;

		h3 {
			font-size: 18px;
		}
	}

	.metric-list li {
		padding: 12px;

		strong {
			font-size: 15px;
		}

		code {
			font-size: 12px;
		}
	}
}
</style>
